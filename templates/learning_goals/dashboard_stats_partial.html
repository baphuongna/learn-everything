<!-- Thống kê tổng quan -->
<div class="row mb-4">
    <div class="col-md-3">
        <div class="card bg-primary text-white h-100">
            <div class="card-body text-center">
                <h5 class="card-title">Tổng Số Mục Tiêu</h5>
                <h2 class="display-4">{{ total_goals }}</h2>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card bg-success text-white h-100">
            <div class="card-body text-center">
                <h5 class="card-title">Đã Hoàn Thành</h5>
                <h2 class="display-4">{{ completed_goals }}</h2>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card bg-warning text-dark h-100">
            <div class="card-body text-center">
                <h5 class="card-title">Đang Thực Hiện</h5>
                <h2 class="display-4">{{ active_goals }}</h2>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card bg-danger text-white h-100">
            <div class="card-body text-center">
                <h5 class="card-title">Quá Hạn</h5>
                <h2 class="display-4">{{ overdue_goals }}</h2>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <!-- Mục tiêu theo loại -->
    <div class="col-md-6 mb-4">
        <div class="card h-100">
            <div class="card-header bg-info text-white">
                <h5 class="mb-0"><i class="fas fa-calendar-alt"></i> Mục Tiêu Theo Thời Gian</h5>
            </div>
            <div class="card-body">
                <div class="row text-center">
                    <div class="col-md-4">
                        <div class="card mb-3">
                            <div class="card-body">
                                <h3>{{ daily_goals.count }}</h3>
                                <p class="mb-0">Hàng ngày</p>
                            </div>
                        </div>
                        <a href="{% url 'learning_goals:goal_list' %}?type=daily" class="btn btn-sm btn-outline-primary">Xem</a>
                    </div>
                    <div class="col-md-4">
                        <div class="card mb-3">
                            <div class="card-body">
                                <h3>{{ weekly_goals.count }}</h3>
                                <p class="mb-0">Hàng tuần</p>
                            </div>
                        </div>
                        <a href="{% url 'learning_goals:goal_list' %}?type=weekly" class="btn btn-sm btn-outline-primary">Xem</a>
                    </div>
                    <div class="col-md-4">
                        <div class="card mb-3">
                            <div class="card-body">
                                <h3>{{ monthly_goals.count }}</h3>
                                <p class="mb-0">Hàng tháng</p>
                            </div>
                        </div>
                        <a href="{% url 'learning_goals:goal_list' %}?type=monthly" class="btn btn-sm btn-outline-primary">Xem</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tỷ lệ hoàn thành -->
    <div class="col-md-6 mb-4">
        <div class="card h-100">
            <div class="card-header bg-success text-white">
                <h5 class="mb-0"><i class="fas fa-chart-pie"></i> Tỷ Lệ Hoàn Thành</h5>
            </div>
            <div class="card-body d-flex flex-column justify-content-center align-items-center">
                <div class="progress-circle" x-data="{ progress: 0 }" x-init="setTimeout(() => progress = {{ completion_rate }}, 500)">
                    <svg viewBox="0 0 36 36" class="circular-chart">
                        <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                        <path class="circle" stroke-dasharray="100, 100" :stroke-dasharray="`${progress}, 100`" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                        <text x="18" y="20.35" class="percentage" x-text="progress + '%'">0%</text>
                    </svg>
                </div>
                <p class="text-center mt-3">
                    Bạn đã hoàn thành {{ completed_goals }} trên tổng số {{ total_goals }} mục tiêu.
                </p>
            </div>
        </div>
    </div>
</div>
