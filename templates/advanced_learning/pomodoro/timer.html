{% extends 'base/base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}Pomodoro Timer - Nền Tảng Học Tập{% endblock %}

{% block extra_css %}
<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="{% static 'css/pomodoro.css' %}">
{% endblock %}

{% block content %}
<div class="row mb-4">
    <div class="col-md-8">
        <h1 class="mb-3">
            <i class="fas fa-clock text-primary"></i> Pomodoro Timer
        </h1>
        <p class="lead">Học tập hiệu quả với phương pháp Pomodoro - tập trung làm việc trong thời gian ngắn, xen kẽ với các khoảng nghỉ.</p>
    </div>
    <div class="col-md-4 text-end">
        <div class="theme-switch-wrapper mb-2">
            <label class="theme-switch" for="theme-switch">
                <input type="checkbox" id="theme-switch" />
                <span class="slider"></span>
            </label>
            <span id="theme-label">Chế độ tối</span>
        </div>
        <a href="{% url 'advanced_learning:pomodoro_history' %}" class="btn btn-outline-primary"
           hx-get="{% url 'advanced_learning:pomodoro_history' %}?format=partial"
           hx-target="#main-content"
           hx-swap="innerHTML"
           hx-push-url="true">
            <i class="fas fa-history"></i> Lịch Sử Pomodoro
        </a>
    </div>
</div>

<div id="main-content">
    {% include 'advanced_learning/pomodoro/timer_partial.html' %}
</div>
{% endblock %}

{% block extra_js %}
<!-- Chart.js cho biểu đồ thống kê -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!-- File JavaScript riêng cho Pomodoro Timer -->
<script src="{% static 'js/pomodoro.js' %}"></script>
{% endblock %}
